<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
<meta name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">

    <meta name="author" content="万叶">


    <meta name="subtitle" content="力量的秘密在于专注">




<title>React基础知识（一） | 万叶&#39;s Blog</title>



    <link rel="icon" href="/favicon.ico">




    <!-- stylesheets list from _config.yml -->
    
    <link rel="stylesheet" href="/css/style.css">
    



    <!-- scripts list from _config.yml -->
    
    <script src="/js/script.js"></script>
    
    <script src="/js/tocbot.min.js"></script>
    



    
    
        
    


<meta name="generator" content="Hexo 6.2.0"></head>

<body>
    <script>
        // this function is used to check current theme before page loaded.
        (() => {
            const currentTheme = window.localStorage && window.localStorage.getItem('theme') || '';
            const isDark = currentTheme === 'dark';
            const pagebody = document.getElementsByTagName('body')[0]
            if (isDark) {
                pagebody.classList.add('dark-theme');
                // mobile
                document.getElementById("mobile-toggle-theme").innerText = "· Dark"
            } else {
                pagebody.classList.remove('dark-theme');
                // mobile
                document.getElementById("mobile-toggle-theme").innerText = "· Light"
            }
        })();
    </script>

    <div class="wrapper">
        <header>
    <nav class="navbar">
        <div class="container">
            <div class="navbar-header header-logo"><a href="/">万叶&#39;s Blog</a></div>
            <div class="menu navbar-right">
                
                    <a class="menu-item" href="/archives">Posts</a>
                
                    <a class="menu-item" href="/category">Categories</a>
                
                    <a class="menu-item" href="/about">About</a>
                
                <input id="switch_default" type="checkbox" class="switch_default">
                <label for="switch_default" class="toggleBtn"></label>
            </div>
        </div>
    </nav>

    
    <nav class="navbar-mobile" id="nav-mobile">
        <div class="container">
            <div class="navbar-header">
                <div>
                    <a href="/">万叶&#39;s Blog</a><a id="mobile-toggle-theme">·&nbsp;Light</a>
                </div>
                <div class="menu-toggle" onclick="mobileBtn()">&#9776; Menu</div>
            </div>
            <div class="menu" id="mobile-menu">
                
                    <a class="menu-item" href="/archives">Posts</a>
                
                    <a class="menu-item" href="/category">Categories</a>
                
                    <a class="menu-item" href="/about">About</a>
                
            </div>
        </div>
    </nav>

</header>
<script>
    var mobileBtn = function f() {
        var toggleMenu = document.getElementsByClassName("menu-toggle")[0];
        var mobileMenu = document.getElementById("mobile-menu");
        if(toggleMenu.classList.contains("active")){
           toggleMenu.classList.remove("active")
            mobileMenu.classList.remove("active")
        }else{
            toggleMenu.classList.add("active")
            mobileMenu.classList.add("active")
        }
    }
</script>
            <div class="main">
                <div class="container">
    
    
        <div class="post-toc">
    <div class="tocbot-list">
    </div>
    <div class="tocbot-list-menu">
        <a class="tocbot-toc-expand" onclick="expandToc()">Expand all</a>
        <a onclick="go_top()">Back to top</a>
        <a onclick="go_bottom()">Go to bottom</a>
    </div>
</div>

<script>
    var tocbot_timer;
    var DEPTH_MAX = 6;    // 为 6 时展开所有
    var tocbot_default_config = {
        tocSelector: '.tocbot-list',
        contentSelector: '.post-content',
        headingSelector: 'h1, h2, h3, h4, h5',
        orderedList: false,
        scrollSmooth: true,
        onClick: extend_click,
    };

    function extend_click() {
        clearTimeout(tocbot_timer);
        tocbot_timer = setTimeout(function () {
            tocbot.refresh(obj_merge(tocbot_default_config, { hasInnerContainers: true }));
        }, 420); // 这个值是由 tocbot 源码里定义的 scrollSmoothDuration 得来的
    }

    document.ready(function () {
        tocbot.init(obj_merge(tocbot_default_config, { collapseDepth: 1 }));
    });

    function expandToc() {
        var b = document.querySelector('.tocbot-toc-expand');
        var expanded = b.getAttribute('data-expanded');
        expanded ? b.removeAttribute('data-expanded') : b.setAttribute('data-expanded', true);
        tocbot.refresh(obj_merge(tocbot_default_config, { collapseDepth: expanded ? 1 : DEPTH_MAX }));
        b.innerText = expanded ? 'Expand all' : 'Collapse all';
    }

    function go_top() {
        window.scrollTo(0, 0);
    }

    function go_bottom() {
        window.scrollTo(0, document.body.scrollHeight);
    }

    function obj_merge(target, source) {
        for (var item in source) {
            if (source.hasOwnProperty(item)) {
                target[item] = source[item];
            }
        }
        return target;
    }
</script>
    

    
    <article class="post-wrap">
        <header class="post-header">
            <h1 class="post-title">React基础知识（一）</h1>
            
                <div class="post-meta">
                    
                        Author: <a itemprop="author" rel="author" href="/">万叶</a>
                    

                    
                        <span class="post-time">
                        Date: <a href="#">June 15, 2022&nbsp;&nbsp;23:00:00</a>
                        </span>
                    
                    
                        <span class="post-category">
                    Category:
                            
                                <a href="/categories/React/">React</a>
                            
                        </span>
                    
                </div>
            
        </header>

        <div class="post-content">
            <h1 id="React"><a href="#React" class="headerlink" title="React"></a>React</h1><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0xMS41IC0xMC4yMzE3NCAyMyAyMC40NjM0OCI+CiAgPHRpdGxlPlJlYWN0IExvZ288L3RpdGxlPgogIDxjaXJjbGUgY3g9IjAiIGN5PSIwIiByPSIyLjA1IiBmaWxsPSIjNjFkYWZiIi8+CiAgPGcgc3Ryb2tlPSIjNjFkYWZiIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiPgogICAgPGVsbGlwc2Ugcng9IjExIiByeT0iNC4yIi8+CiAgICA8ZWxsaXBzZSByeD0iMTEiIHJ5PSI0LjIiIHRyYW5zZm9ybT0icm90YXRlKDYwKSIvPgogICAgPGVsbGlwc2Ugcng9IjExIiByeT0iNC4yIiB0cmFuc2Zvcm09InJvdGF0ZSgxMjApIi8+CiAgPC9nPgo8L3N2Zz4K" alt="React" height="80" align="left" width="100" padding="20px">

<p>React是用于构建用户界面的JavaScript库，起源于Facebook的内部项目，该公司对市场上所有 JavaScript MVC框架都不满意，决定自行开发一套，用于架设Instagram的网站。于2013年5月开源。由于React的设计思想极其独特，属于革命性创新，性能出众，代码逻辑却非常简单。所以，越来越多的人开始关注和使用。</p>
<p>React的框架特点：</p>
<ol>
<li><p>声明式设计：React 使创建交互式 UI 变得轻而易举。为你应用的每一个状态设计简洁的视图，当数据变动时 React能高效更新并渲染合适的组件。</p>
</li>
<li><p>组件化: 构建管理自身状态的封装组件，然后对其组合以构成复杂的 UI。</p>
</li>
<li><p>高效：React通过对DOM的模拟，最大限度地减少与DOM的交互。</p>
</li>
<li><p>灵活：无论你现在使用什么技术栈，在无需重写现有代码的前提下，通过引入React来开发新功能。</p>
</li>
</ol>
<p>React的官网：</p>
<p><a target="_blank" rel="noopener" href="https://react.docschina.org/">中文官网 </a>  <a target="_blank" rel="noopener" href="https://reactjs.org/">英文官网</a></p>
<h1 id="React基础库"><a href="#React基础库" class="headerlink" title="React基础库"></a>React基础库</h1><p>React的使用到的相关库有三个：react.js、react-dom.js和babel.min.js，其中：</p>
<ul>
<li><p>react.js</p>
<p>React的核心库。</p>
</li>
<li><p>react-dom.js</p>
<p>提供操作DOM的react扩展库。</p>
</li>
<li><p>babel.min.js</p>
<p>解析JSX语法代码为JS代码的库。因为浏览器不能直接解析JSX代码, 需要babel转译为纯JS的代码才能运行。只要用了JSX，都要加上<code>type=&quot;text/babel&quot;</code>, 声明需要babel来处理。</p>
</li>
</ul>
<p>在React中创建DOM的方式有两种，一个是使用纯JS进行创建，另外一种使用JSX方式进行创建，但是纯JS的方式基本是不太使用，经常使用的是后者。React创建虚拟DOM对象的方式是：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const VDOM = React.createElement(&#x27;xx&#x27;,&#123;id:&#x27;xx&#x27;&#125;,&#x27;x&#x27;);</span><br></pre></td></tr></table></figure>

<p>通过React创建出现的虚拟DOM最终会被React转换成真实的DOM对象。我们编码的时候，只需要关注React虚拟DOM的相关数据。</p>
<blockquote>
<p>浏览器安装React插件：在Chrome浏览器中搜索<a target="_blank" rel="noopener" href="https://chrome.google.com/webstore/detail/react-developer-tools/fmkadmapgofadopljbjfkapdkoienihi/related?hl=zh-CN">React Developer Tools</a>插件进行安装。</p>
</blockquote>
<h1 id="JSX"><a href="#JSX" class="headerlink" title="JSX"></a>JSX</h1><p>JavaScript XML简称JSX，是React定义的一种类似于XML的JS扩展语法，其作用是简化创建虚拟DOM的过程。JSX的标签名任意（可以是HTML标签或者其他标签）以及标签属性任意（HTML标签属性或其他）。使用JSX的使用需要注意：</p>
<ol>
<li>遇到<code>&lt;</code>开头的代码时，会以标签的语法解析（HTML同名标签转换成HTML标签同名元素，其他标签需要特别的解析）；</li>
<li>遇到以<code>&#123;</code>开头的代码时，以JavaScript语法解析，也就说在JSX中使用原生的JavaScript语法的时候需要使用<code>&#123;&#125;</code>包裹。</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;</span><br><span class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class="line">    &lt;title&gt;Hello React&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot; src=&quot;./js/react.development.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot; src=&quot;./js/react-dom.development.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot; src=&quot;./js/babel.js&quot;&gt;&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id=&quot;test&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;script type=&quot;text/babel&quot;&gt;</span><br><span class="line">    const green = &#x27;green&#x27;</span><br><span class="line">    const data = &#x27;Hello World&#x27;</span><br><span class="line">    const DEMO = (</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;h2 className=&#x27;title&#x27; id=&#123;green.toLowerCase()&#125;&gt;</span><br><span class="line">                &lt;span style=&#123;&#123; color: &#x27;yellow&#x27;, fontSize: &#x27;29px&#x27; &#125;&#125;&gt;&#123;data&#125;&lt;/span&gt;</span><br><span class="line">            &lt;/h2&gt;</span><br><span class="line">            &lt;h2 className=&#x27;title&#x27; id=&#123;green.toLowerCase()&#125;&gt;</span><br><span class="line">                &lt;span style=&#123;&#123; color: &#x27;black&#x27;, fontSize: &#x27;30px&#x27; &#125;&#125;&gt;&#123;data&#125;&lt;/span&gt;</span><br><span class="line">            &lt;/h2&gt;</span><br><span class="line">            &lt;input type=&quot;text&quot; /&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    )</span><br><span class="line">    ReactDOM.render(DEMO, document.getElementById(&quot;test&quot;))</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<p>上述案例，能够说明JSX语法有如下特点：</p>
<ol>
<li>定义虚拟DOM时，不要写引号；</li>
<li>标签中混入JavaScript表达式时要用<code>&#123;&#125;</code>；</li>
<li>样式的类名指定不要用class，要用ClasssName；</li>
<li>内联样式，要用<code>style=&#123;&#123;key:value&#125;&#125;</code>的形式；</li>
<li>只有一个根标签，且标签必须闭合；</li>
<li>标签首字母：<ul>
<li>若小写字母开头，则将该标签转为html中同名元素，若html中无该标签对应的同名元素，则报错；</li>
<li>若大写字母开头，react就去渲染对应的组件，若组件没有定义，则报错。</li>
</ul>
</li>
</ol>
<p>练习题：存在一个数据集合<code>const data = [&#39;Angular&#39;,&#39;React&#39;,&#39;Vue&#39;]</code>，使用JSX语法创建一个<code>li</code>列表，然后渲染到界面上。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;</span><br><span class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class="line">    &lt;title&gt;Hello React&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot; src=&quot;./js/react.development.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot; src=&quot;./js/react-dom.development.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot; src=&quot;./js/babel.js&quot;&gt;&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id=&quot;test&quot;&gt;</span><br><span class="line"></span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;script type=&quot;text/babel&quot;&gt;</span><br><span class="line">    const data = [&#x27;Angular&#x27;, &#x27;React&#x27;, &#x27;Vue&#x27;]</span><br><span class="line">    const WebList = (</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;h1&gt;知名前端框架&lt;/h1&gt;</span><br><span class="line">            &lt;ul&gt;</span><br><span class="line">                &#123;</span><br><span class="line">                    data.map((item, index) =&gt; &#123;</span><br><span class="line">                        return &lt;li id=&#123;index&#125;&gt;&#123;item&#125;&lt;/li&gt;</span><br><span class="line">                    &#125;)</span><br><span class="line">                &#125;</span><br><span class="line">            &lt;/ul&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    )</span><br><span class="line">    ReactDOM.render(WebList, document.getElementById(&quot;test&quot;))</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<h1 id="Hello-World"><a href="#Hello-World" class="headerlink" title="Hello World"></a>Hello World</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;</span><br><span class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class="line">    &lt;title&gt;Hello React&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot; src=&quot;./js/react.development.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot; src=&quot;./js/react-dom.development.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot; src=&quot;./js/babel.js&quot;&gt;&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id=&quot;test&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div id=&quot;pure_js_test&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- 使用JSX创建DOM --&gt;</span><br><span class="line">&lt;script type=&quot;text/babel&quot;&gt;</span><br><span class="line">    const HelloWorld = &lt;h1&gt;Hello World&lt;/h1&gt;;</span><br><span class="line">    ReactDOM.render(HelloWorld, document.getElementById(&#x27;test&#x27;));</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- 使用JavaScript创建DOM --&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">    const HelloWorld2 = React.createElement(&#x27;h1&#x27;, &#123; id: &#x27;title&#x27; &#125;, React.createElement(&#x27;span&#x27;, &#123;&#125;, &#x27;Hello World&#x27;))</span><br><span class="line">    ReactDOM.render(HelloWorld2, document.getElementById(&#x27;pure_js_test&#x27;));</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<h1 id="组件的定义"><a href="#组件的定义" class="headerlink" title="组件的定义"></a>组件的定义</h1><p>React中组件的定义有两种方式：一种是函数式的定义，另外一种是类式的定义。不是使用哪种方式定义组件，为了与原生的HTML标签进行区分，React都要求组件的首写字母应该大小。</p>
<h2 id="函数式定义"><a href="#函数式定义" class="headerlink" title="函数式定义"></a>函数式定义</h2><p>函数式的定义方式就是使用类似于函数的方式让函数的返回值是一个根标签。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=&quot;text/babel&quot;&gt;</span><br><span class="line">    function CreateDOM()&#123;</span><br><span class="line">        return &lt;h1&gt;This is a DOM.&lt;/h1&gt;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ReactDOM.render(&lt;CreateDOM /&gt;, document.getElementById(&#x27;test&#x27;))</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h2 id="类式定义"><a href="#类式定义" class="headerlink" title="类式定义"></a>类式定义</h2><p>类式定义的方式就是使用一个类继承<code>React.Component</code>对象，然后在<code>render</code>方法中返回一个根标签。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=&quot;text/babel&quot;&gt;</span><br><span class="line">    class MyDOM extends React.Component &#123;</span><br><span class="line">        render() &#123;</span><br><span class="line">            return &lt;h1&gt;This is a DOM.&lt;/h1&gt;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    ReactDOM.render(&lt;MyDOM /&gt;, document.getElementById(&#x27;test&#x27;))</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h1 id="组件实例三大核心属性"><a href="#组件实例三大核心属性" class="headerlink" title="组件实例三大核心属性"></a>组件实例三大核心属性</h1><h2 id="state"><a href="#state" class="headerlink" title="state"></a>state</h2><p><code>state</code>是组件实例的最重要的属性，值是一个对象，该对象可以包含多个key-value的组合。<code>state</code>也被称为状态机，在实际的开发过程中，可以通过更新组件实例的<code>state</code>状态来更新对应的页面显示（本质是重新渲染组件）。在React中，组件中<code>render()</code>方法中的<code>this</code>为组件实例对象，但是组件自定义的方法中的<code>this</code>为<code>undefined</code>。为了解决获取不到<code>this</code>的问题，在React中通常：</p>
<ol>
<li>通过函数对象的<code>bind()</code>方法强制绑定<code>this</code>；</li>
<li>使用箭头函数。</li>
</ol>
<p>为了解释<code>state</code>的用法，以一个简单的例子为例：界面上显示当前的天气是HOT还是COLD，当用户点击按钮时界面显示的天气自动发生变化。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=&quot;text/babel&quot;&gt;</span><br><span class="line">    class Weather extends React.Component &#123;</span><br><span class="line">        constructor(props) &#123;</span><br><span class="line">            //在React中继承了React.Component需要先调用super方法</span><br><span class="line">            super(props)</span><br><span class="line">            this.state = &#123; isHot: false &#125;</span><br><span class="line">            //解决在函数中this指向为undefined问题</span><br><span class="line">            this.changeWeather = this.changeWeather.bind(this)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        render() &#123;</span><br><span class="line">            //onClick中记得大写C字母，方法名不要加小括号，因为该方法的调用时间又react管理</span><br><span class="line">            return &lt;h1 onClick=&#123;this.changeWeather&#125;&gt;Today is &#123;this.state.isHot ? &#x27; HOT &#x27; : &#x27; COLD &#x27;&#125;day.&lt;/h1&gt;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        //只有调用了setState的方法才会更新界面试图</span><br><span class="line">        changeWeather() &#123;</span><br><span class="line">            const isHot = this.state.isHot</span><br><span class="line">            this.setState(&#123; isHot: !isHot &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    ReactDOM.render(&lt;Weather /&gt;, document.getElementById(&#x27;test&#x27;))</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>上述的代码也可以简写成：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=&quot;text/babel&quot;&gt;</span><br><span class="line">    class Weather extends React.Component &#123;</span><br><span class="line">        state = &#123; isHot: false &#125;</span><br><span class="line">        render() &#123;</span><br><span class="line">            return &lt;h1 onClick=&#123;this.changeWeather&#125;&gt;Today is &#123;this.state.isHot ? &#x27; HOT &#x27; : &#x27; COLD &#x27;&#125;day.&lt;/h1&gt;</span><br><span class="line">        &#125;</span><br><span class="line">        changeWeather = () =&gt; &#123;</span><br><span class="line">            this.setState(&#123;isHot:!this.state.isHot&#125;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    ReactDOM.render(&lt;Weather /&gt;, document.getElementById(&#x27;test&#x27;))</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h2 id="props"><a href="#props" class="headerlink" title="props"></a>props</h2><p>每个组件都有一个props（properties）属性，组件标签的所有属性都保存在props中。通过标签属性从组件外向组件内传递变化的数据。</p>
<blockquote>
<p>props强调的是从外到内的过程，所以通常在组件内部不要修改props的数据。</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=&quot;text/babel&quot;&gt;</span><br><span class="line">    class Person extends React.Component &#123;</span><br><span class="line">        render() &#123;</span><br><span class="line">            const &#123; name, age, gender &#125; = this.props</span><br><span class="line">            return (</span><br><span class="line">                &lt;ul&gt;</span><br><span class="line">                    &lt;li&gt;&#123;name&#125;&lt;/li&gt;</span><br><span class="line">                    &lt;li&gt;&#123;age&#125;&lt;/li&gt;</span><br><span class="line">                    &lt;li&gt;&#123;gender&#125;&lt;/li&gt;</span><br><span class="line">                &lt;/ul&gt;</span><br><span class="line">            )</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    ReactDOM.render(&lt;Person name=&quot;Hua Li&quot; age=&quot;15&quot; gender=&quot;M&quot; /&gt;, document.getElementById(&#x27;test&#x27;))</span><br><span class="line"></span><br><span class="line">    const p = &#123; name: &#x27;Hong Xiao&#x27;, age: &#x27;18&#x27;, gender:&#x27;F&#x27; &#125;</span><br><span class="line">    ReactDOM.render(&lt;Person &#123;...p&#125; /&gt;, document.getElementById(&#x27;test2&#x27;))</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>使用props的使用可以对其施加类型限制和设置默认的属性值，方式有两种：一种是在组件外进行限制，另外一种是在组件内进行限制。</p>
<p>在组件外进行限制：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=&quot;text/javascript&quot; src=&quot;./js/prop-types.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script type=&quot;text/babel&quot;&gt;</span><br><span class="line">    class Person extends React.Component &#123;</span><br><span class="line">        render() &#123;</span><br><span class="line">            const &#123; name, age, gender &#125; = this.props</span><br><span class="line">            return (</span><br><span class="line">                &lt;ul&gt;</span><br><span class="line">                    &lt;li&gt;&#123;name&#125;&lt;/li&gt;</span><br><span class="line">                    &lt;li&gt;&#123;age&#125;&lt;/li&gt;</span><br><span class="line">                    &lt;li&gt;&#123;gender&#125;&lt;/li&gt;</span><br><span class="line">                &lt;/ul&gt;</span><br><span class="line">            )</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Person.propTypes = &#123;</span><br><span class="line">        name: PropTypes.string.isRequired,</span><br><span class="line">        age: PropTypes.number,</span><br><span class="line">        gender: PropTypes.string,</span><br><span class="line">        speak: PropTypes.func</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Person.propTypes = &#123;</span><br><span class="line">        name: PropTypes.string.isRequired, //限制name必传，且为字符串</span><br><span class="line">        sex: PropTypes.string,//限制sex为字符串</span><br><span class="line">        age: PropTypes.number,//限制age为数值</span><br><span class="line">        speak: PropTypes.func,//限制speak为函数</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Person.defaultProps = &#123;</span><br><span class="line">        sex: &#x27;M&#x27;,</span><br><span class="line">        age: 16</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ReactDOM.render(&lt;Person name=&quot;Hua Li&quot; age=&#123;15&#125; gender=&quot;M&quot; /&gt;, document.getElementById(&#x27;test&#x27;))</span><br><span class="line"></span><br><span class="line">    const p = &#123; name: &#x27;Hong Xiao&#x27;, gender: &#x27;F&#x27; &#125;</span><br><span class="line">    ReactDOM.render(&lt;Person &#123;...p&#125; /&gt;, document.getElementById(&#x27;test2&#x27;))</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<blockquote>
<p> 需要导入<code>prop-types.js</code>文件。</p>
</blockquote>
<p>在组件内进行限制：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">class Person extends React.Component &#123;</span><br><span class="line"> 	//略</span><br><span class="line">    static propTypes = &#123;</span><br><span class="line">        name: PropTypes.string.isRequired,</span><br><span class="line">        age: PropTypes.number,</span><br><span class="line">        gender: PropTypes.string,</span><br><span class="line">        speak: PropTypes.func</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    static defaultProps = &#123;</span><br><span class="line">        sex: &#x27;M&#x27;,</span><br><span class="line">        age: 16</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>函数式组件的限制只能使用在组件外进行限制的方式：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=&quot;text/babel&quot;&gt;</span><br><span class="line">    function Person(props) &#123;</span><br><span class="line">        const &#123; name, age, gender &#125; = props</span><br><span class="line">        return (</span><br><span class="line">            &lt;ul&gt;</span><br><span class="line">                &lt;li&gt;&#123;name&#125;&lt;/li&gt;</span><br><span class="line">                &lt;li&gt;&#123;age&#125;&lt;/li&gt;</span><br><span class="line">                &lt;li&gt;&#123;gender&#125;&lt;/li&gt;</span><br><span class="line">            &lt;/ul&gt;</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Person.propTypes = &#123;</span><br><span class="line">        name: PropTypes.string.isRequired,</span><br><span class="line">        age: PropTypes.number,</span><br><span class="line">        gender: PropTypes.string,</span><br><span class="line">        speak: PropTypes.func</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Person.defaultProps = &#123;</span><br><span class="line">        sex: &#x27;M&#x27;,</span><br><span class="line">        age: 16</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h2 id="refs"><a href="#refs" class="headerlink" title="refs"></a>refs</h2><p>在React中，<code>refs</code>的作用是向组件传递当前标签的引用。<code>ref</code>定义在组件的标签内，用来标识该组件，然后在组件中使用<code>this.refs</code>获取该值。<code>refs</code>的使用方式有三种：</p>
<ol>
<li>字符串声明形式；</li>
<li>回调形式；</li>
<li><code>createRef</code>创建<code>ref</code>容器。</li>
</ol>
<h3 id="字符串声明"><a href="#字符串声明" class="headerlink" title="字符串声明"></a>字符串声明</h3><p>这种方式React官网不推荐使用，因为其会存在一些问题，并且这种方式会在未来的API中被移除。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=&quot;text/babel&quot;&gt;</span><br><span class="line">    class Demo extends React.Component &#123;</span><br><span class="line">        showData1 = () =&gt; &#123;</span><br><span class="line">            const &#123; input1 &#125; = this.refs</span><br><span class="line">            //&lt;input type=&quot;text&quot; placeholder=&quot;点击按钮提示数据&quot;&gt;</span><br><span class="line">            console.log(input1)</span><br><span class="line">            //输出的才是input中的值</span><br><span class="line">            console.log(input2)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        showData2 = () =&gt; &#123;</span><br><span class="line">            const &#123; input2 &#125; = this.refs</span><br><span class="line">            console.log(input2.value)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        render() &#123;</span><br><span class="line">            return (</span><br><span class="line">                &lt;div&gt;</span><br><span class="line">                    &lt;input ref=&#x27;input1&#x27; type=&#x27;text&#x27; placeholder=&#x27;点击按钮提示数据&#x27; /&gt;</span><br><span class="line">                    &lt;br /&gt;</span><br><span class="line">                    &lt;button onClick=&#123;this.showData1&#125; &gt;点击我提示左侧数据&lt;/button&gt;</span><br><span class="line">                    &lt;br /&gt;</span><br><span class="line">                    &lt;input ref=&#x27;input2&#x27; onBlur=&#123;this.showData2&#125; type=&#x27;text&#x27; placeholder=&#x27;失去焦点提示数据&#x27; /&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">            )</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ReactDOM.render(&lt;Demo /&gt;, document.getElementById(&#x27;test&#x27;))</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="回调"><a href="#回调" class="headerlink" title="回调"></a>回调</h3><p>通过回调的方式，当React执行到<code>ref=&#123;item =&gt; this.input1 = item&#125;</code>会自动调用，<code>item</code>拿到的是当前<code>input</code>的对象，而<code>this.input1</code>会使用<code>render()</code>方法的<code>this</code>引用。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=&quot;text/babel&quot;&gt;</span><br><span class="line">    class Demo extends React.Component &#123;</span><br><span class="line">        state = &#123; isHot: false &#125;</span><br><span class="line">        showInfo = () =&gt; &#123;</span><br><span class="line">            const &#123; input1 &#125; = this</span><br><span class="line">            console.log(input1.value)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        changeWeather = () =&gt; &#123;</span><br><span class="line">            const &#123; isHot &#125; = this.state</span><br><span class="line">            this.setState(&#123; isHot: !isHot &#125;)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        saveInput = (c) =&gt; &#123;</span><br><span class="line">            this.input1 = c</span><br><span class="line">            console.log(&#x27;@&#x27;, c)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        render() &#123;</span><br><span class="line">            const &#123; isHot &#125; = this.state</span><br><span class="line">            return (</span><br><span class="line">                &lt;div&gt;</span><br><span class="line">                    &lt;h2&gt;今天天气很&#123;isHot ? &#x27;HOT&#x27; : &#x27;COLD&#x27;&#125;&lt;/h2&gt;</span><br><span class="line">                    /* 这是内联函数函数的写法，会被调用两次，第1次为null，第2次才获取到标签 */</span><br><span class="line">                    &lt;input type=&quot;text&quot; ref=&#123;c =&gt; &#123; this.input1 = c; console.log(&#x27;@&#x27;, c); &#125;&#125; /&gt;</span><br><span class="line">                    /* 这不是内联函数的写法 */</span><br><span class="line">                    &lt;input type=&quot;text&quot; ref=&#123;this.saveInput&#125; /&gt;</span><br><span class="line">                    &lt;button onClick=&#123;this.showInfo&#125;&gt;点提示输入的数据&lt;/button&gt;</span><br><span class="line">                    &lt;button onClick=&#123;this.changeWeather&#125;&gt;点我切换天气&lt;/button&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">            )</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ReactDOM.render(&lt;Demo /&gt;, document.getElementById(&#x27;test&#x27;))</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>在<a target="_blank" rel="noopener" href="https://zh-hans.reactjs.org/docs/refs-and-the-dom.html#gatsby-focus-wrapper"> React 官网</a>对 refs 有一段说明：</p>
<p>如果 <code>ref</code> 回调函数是以内联函数的方式定义的，在更新过程中它会被执行两次，第一次传入参数 <code>null</code>，然后第二次会传入参数 DOM 元素。这是因为在每次渲染时会创建一个新的函数实例，所以 React 清空旧的 ref 并且设置新的。通过将 ref 的回调函数定义成 class 的绑定函数的方式可以避免上述问题，但是大多数情况下它是无关紧要的。</p>
<h3 id="ref容器"><a href="#ref容器" class="headerlink" title="ref容器"></a>ref容器</h3><p><code>React.createRef</code>调用后可以返回一个容器，该容器可以存储被ref所标识的节点。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=&quot;text/babel&quot;&gt;</span><br><span class="line">    class Demo extends React.Component &#123;</span><br><span class="line">        myRef = React.createRef()</span><br><span class="line">        myRef2 = React.createRef()</span><br><span class="line"></span><br><span class="line">        showData = () =&gt; &#123;</span><br><span class="line">            console.log(this.myRef.current.value)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        showData2 = () =&gt; &#123;</span><br><span class="line">            console.log(this.myRef2.current.value)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        render() &#123;</span><br><span class="line">            return (</span><br><span class="line">                &lt;div&gt;</span><br><span class="line">                    &lt;input type=&quot;text&quot; placeholder=&quot;点击按钮提示数据&quot; ref=&#123;this.myRef&#125; /&gt;</span><br><span class="line">                    &lt;button onClick=&#123;this.showData&#125;&gt;点我提示左侧的数据&lt;/button&gt;</span><br><span class="line">                    &lt;input type=&quot;text&quot; onBlur=&#123;this.showData2&#125; ref=&#123;this.myRef2&#125; placeholder=&quot;失去焦点提示数据&quot; /&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">            )</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ReactDOM.render(&lt;Demo /&gt;, document.getElementById(&#x27;test&#x27;))</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h1 id="事件处理"><a href="#事件处理" class="headerlink" title="事件处理"></a>事件处理</h1><p>React中使用的自定义合成事件，而不是使用原生的DOM事件，其目的是为了更好的兼容。同时，React中的事件是通过事件委托方式处理的（委托给最外层的元素），其目的是为了高效。可以通过<code>event.target</code>获得到事件的DOM元素。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=&quot;text/babel&quot;&gt;</span><br><span class="line">    class Demo extends React.Component &#123;</span><br><span class="line">        showData = (event) =&gt; &#123;</span><br><span class="line">            console.log(event.target)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        showData2 = (event) =&gt; &#123;</span><br><span class="line">            console.log(event.target.value)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        render() &#123;</span><br><span class="line">            return (</span><br><span class="line">                &lt;div&gt;</span><br><span class="line">                    &lt;button onClick=&#123;this.showData&#125;&gt;点我提示左侧的数据&lt;/button&gt;</span><br><span class="line">                    &lt;input type=&quot;text&quot; onBlur=&#123;this.showData2&#125; /&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">            )</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ReactDOM.render(&lt;Demo /&gt;, document.getElementById(&#x27;test&#x27;))</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h1 id="函数的柯里化"><a href="#函数的柯里化" class="headerlink" title="函数的柯里化"></a>函数的柯里化</h1><h1 id="参考文档"><a href="#参考文档" class="headerlink" title="参考文档"></a>参考文档</h1><div id="footnotes"><hr><div id="footnotelist"><ol style="list-style:none; padding-left: 0;"><li id="fn:1"><span style="display: inline-block; vertical-align: top; padding-right: 10px;">1.</span><span style="display: inline-block; vertical-align: top;">https://baike.baidu.com/item/react/18077599</span><a href="#fnref:1" rev="footnote"> ↩</a></li><li id="fn:2"><span style="display: inline-block; vertical-align: top; padding-right: 10px;">2.</span><span style="display: inline-block; vertical-align: top;">https://www.bilibili.com/video/BV1wy4y1D7JT</span><a href="#fnref:2" rev="footnote"> ↩</a></li></ol></div></div>
        </div>

        
            <section class="post-copyright">
                
                    <p class="copyright-item">
                        <span>Author:</span>
                        <span>万叶</span>
                    </p>
                
                
                
                    <p class="copyright-item">
                        <span>License:</span>
                        <span>Copyright (c) 2022 <a target="_blank" rel="noopener" href="http://creativecommons.org/licenses/by-nc/4.0/">CC-BY-NC-4.0</a> LICENSE</span>
                    </p>
                
                

            </section>
        
        <section class="post-tags">
            <div>
                <span>Tag(s):</span>
                <span class="tag">
                    
                </span>
            </div>
            <div>
                <a href="javascript:window.history.back();">back</a>
                <span>· </span>
                <a href="/">home</a>
            </div>
        </section>
        <section class="post-nav">
            
                <a class="prev" rel="prev" href="/2022/06/18/javascript-basis/">JavaScript基础夯实</a>
            
            
            <a class="next" rel="next" href="/2022/06/14/website-favorites/">Website Favorites</a>
            
        </section>


    </article>
</div>

            </div>
            <footer id="footer" class="footer">
    <div class="copyright">
        <span>© 万叶 | Powered by <a href="https://hexo.io" target="_blank">Hexo</a> & <a href="https://github.com/Siricee/hexo-theme-Chic" target="_blank">Chic</a></span>
    </div>
</footer>

    </div>
</body>

</html>